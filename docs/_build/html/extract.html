

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Extracting participant data to .csv &mdash; ukb_download_and_prep_template 0.0-0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Downloading health data" href="health.html" />
    <link rel="prev" title="Downloading participant data" href="participant.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> ukb_download_and_prep_template
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="download.html">Downloading data</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="participant.html">Downloading participant data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Extracting participant data to <code class="code docutils literal notranslate"><span class="pre">.csv</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="health.html">Downloading health data</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ukb_download_and_prep_template</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="download.html">Downloading data</a> &raquo;</li>
        
      <li>Extracting participant data to <code class="code docutils literal notranslate"><span class="pre">.csv</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/extract.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="extracting-participant-data-to-csv">
<h1>Extracting participant data to <code class="code docutils literal notranslate"><span class="pre">.csv</span></code><a class="headerlink" href="#extracting-participant-data-to-csv" title="Permalink to this headline">¶</a></h1>
<p>To access a particular set of variables in <code class="code docutils literal notranslate"><span class="pre">.csv</span></code> format, we extract them from the <code class="code docutils literal notranslate"><span class="pre">12345.enc_ukb</span></code> file (which contains all variables in the application).</p>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Find the <a class="reference external" href="http://biobank.ctsu.ox.ac.uk/crystal/search.cgi">UK Biobank Data Field IDs</a> of interest (e.g. <a class="reference external" href="http://biobank.ndph.ox.ac.uk/showcase/field.cgi?id=20116">smoking status is 20116</a>).</p></li>
<li><p>If it is not already there, append this field to the file <code class="code docutils literal notranslate"><span class="pre">analysisCols.txt</span></code></p></li>
<li><p>Extract data to <code class="code docutils literal notranslate"><span class="pre">.csv</span></code> format:</p></li>
</ol>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>download/helpers/linux_tools/ukb_conv path_to_data/ukb12345.enc_ukb csv -ianalysisCols.txt
<span class="c1"># output = path_to_data/ukb12345.csv</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>These steps can be done in Windows, Linux or MacOS, but the helper files you need will be slightly different (the tools are in <code class="code docutils literal notranslate"><span class="pre">download/helpers/linux_tools</span></code> for Linux/MacOS and <code class="code docutils literal notranslate"><span class="pre">download/helpers/windows_tools</span></code> for Windows).</p></li>
<li><p>This may fail initially because <code class="code docutils literal notranslate"><span class="pre">analysisCols.txt</span></code> contains a field ID which is not present in the copy of the dataset you are working with. These field IDs should be removed from <code class="code docutils literal notranslate"><span class="pre">analysisCols.txt</span></code>.</p></li>
<li><p>How long this extraction will take depends on the number of columns you are extracting, but it is not unusual for it to take several hours. If you just want to add a couple of columns, it is quicker to list them in a separate file (e.g. <code class="code docutils literal notranslate"><span class="pre">analysisColsMini.txt</span></code>), extract a small <code class="code docutils literal notranslate"><span class="pre">.csv</span></code> file and merge with the existing file on participant IDs.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="health.html" class="btn btn-neutral float-right" title="Downloading health data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="participant.html" class="btn btn-neutral float-left" title="Downloading participant data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Rosemary Walmsley, Shing Chan, Aiden Doherty

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>