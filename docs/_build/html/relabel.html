
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relabelling and recoding a participant data .csv file &#8212; ukb_download_and_prep_template 0.0-0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Adding Hospital Episode Statistics on particular diseases" href="hes.html" />
    <link rel="prev" title="Basic usage" href="core.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="relabelling-and-recoding-a-participant-data-csv-file">
<h1>Relabelling and recoding a participant data <code class="code docutils literal notranslate"><span class="pre">.csv</span></code> file<a class="headerlink" href="#relabelling-and-recoding-a-participant-data-csv-file" title="Permalink to this headline">¶</a></h1>
<p>Your <code class="code docutils literal notranslate"><span class="pre">ukb12345.csv</span></code> from the last step looks something like this:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>eid</p></th>
<th class="head"><p>31-0.0</p></th>
<th class="head"><p>34-0.0</p></th>
<th class="head"><p>54-0.0</p></th>
<th class="head"><p>…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4987419</p></td>
<td><p>0</p></td>
<td><p>1944</p></td>
<td><p>11016</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>2898413</p></td>
<td><p>0</p></td>
<td><p>1956</p></td>
<td><p>11009</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-even"><td><p>1049655</p></td>
<td><p>1</p></td>
<td><p>1947</p></td>
<td><p>11010</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>1892589</p></td>
<td><p>1</p></td>
<td><p>1941</p></td>
<td><p>11011</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-even"><td><p>2449164</p></td>
<td><p>1</p></td>
<td><p>1958</p></td>
<td><p>11010</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>(This is fake data - Any resemblance to real UK Biobank participants is coincidental!)</p>
<ul class="simple">
<li><p>The column names are given as field IDs, and you would need to browse <a class="reference external" href="https://biobank.ndph.ox.ac.uk/showcase/search.cgi">https://biobank.ndph.ox.ac.uk/showcase/search.cgi</a> to get their meanings. For example, <code class="code docutils literal notranslate"><span class="pre">31-0.0</span></code> is sex, <code class="code docutils literal notranslate"><span class="pre">34-0.0</span></code> is year of birth, and <code class="code docutils literal notranslate"><span class="pre">54-0.0</span></code> is assessment center.</p></li>
<li><p>If a field is categorical then its categories are coded e.g. in sex <code class="code docutils literal notranslate"><span class="pre">0</span></code> means female and <code class="code docutils literal notranslate"><span class="pre">1</span></code> means male, and in assessment center <code class="code docutils literal notranslate"><span class="pre">11010</span></code> is Leeds and <code class="code docutils literal notranslate"><span class="pre">11009</span></code> is Newcastle.</p></li>
<li><p>You may have hundreds or thousands of these columns.</p></li>
</ul>
<p>Therefore, the next step towards having ready-to-use data is to filter out some columns and parse the field IDs and categorical codes. (While this can be done manually, the automated tools in this repo aim to make it quicker and easier.)</p>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Auto-generate a <code class="code docutils literal notranslate"><span class="pre">columns.json</span></code> file from the text file of field IDs (in the format used in <code class="code docutils literal notranslate"><span class="pre">download_participant_data</span></code>):</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python writeColumnsFile.py --columnsFile analysisCols.txt</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Run:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python filterUKB.py ukb12345.csv -o outputFilename.csv</span>
</pre></div>
</div>
<p>If you want to customise the behaviour or add subsequent columns manually, see the advanced usage options.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ukb_download_and_prep_template</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="core.html">Basic usage</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Relabelling and recoding a participant data <code class="code docutils literal notranslate"><span class="pre">.csv</span></code> file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#steps">Steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hes.html">Adding Hospital Episode Statistics on particular diseases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Downloading data</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="core.html">Basic usage</a><ul>
      <li>Previous: <a href="core.html" title="previous chapter">Basic usage</a></li>
      <li>Next: <a href="hes.html" title="next chapter">Adding Hospital Episode Statistics on particular diseases</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Rosemary Walmsley, Shing Chan, Aiden Doherty.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/relabel.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>